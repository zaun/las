(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["template"],{"17eb":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[t.template?t._e():a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{"align-center":"","justify-center":"",row:""}},[a("v-progress-circular",{attrs:{width:2,size:90,indeterminate:""}},[a("v-progress-circular",{attrs:{width:2,size:75,indeterminate:""}},[t._v("Loading")])],1)],1)],1),null!=t.template?a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"px-2 mb-3",attrs:{lg5:""}},[a("v-card",{staticClass:"elevation-5"},[a("v-toolbar",{staticClass:"elevation-0",attrs:{dense:""}},[a("v-toolbar-title",{staticClass:"headline"},[t._v("Attributes")]),a("v-spacer"),t.isEditMode?a("v-btn",{attrs:{fab:"",flat:"",small:""},on:{click:function(e){return e.stopPropagation(),t.addAttribute(e)}}},[a("v-icon",[t._v("mdi-plus-circle")])],1):t._e()],1),t.isEditMode?t._e():a("v-card-text",[a("v-data-table",{attrs:{headers:t.attributeHeaders,items:t.attributes,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"body-1"},[t._v(t._s(e.item.name))]),a("td",{staticClass:"body-1 typeHeader"},[t._v(t._s(t.attributeName(e.item.type)))]),a("td",{staticClass:"pa-1 td-icon text-xs-center"},[e.item.deprecated?a("v-icon",[t._v("mdi-checkbox-blank-outline")]):t._e(),e.item.deprecated?t._e():a("v-icon",[t._v("mdi-checkbox-marked-outline")])],1)]}}])})],1),t.isEditMode?a("v-card-text",[a("v-data-table",{directives:[{name:"sortable",rawName:"v-sortable:handle",arg:"handle"}],attrs:{headers:t.attributeHeaders,items:t.attributes,"hide-actions":""},on:{reorder:t.dragReorderAttribute},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{key:e.item.id,staticClass:"sortableRow"},[a("td",{staticClass:"pa-1 td-icon text-xs-center"},[a("v-icon",{staticClass:"handle",attrs:{small:""}},[t._v("mdi-reorder-horizontal")])],1),a("td",{staticClass:"pa-1"},[a("v-text-field",{staticClass:"pa-0 mr-1",attrs:{value:e.item.name,disabled:e.item.deprecated||"spacer"===e.item.type,counter:t.attributeCount(e.item.type)},on:{input:function(a){return t.setAttribute(e.item,"name",a)}}})],1),a("td",{staticClass:"pa-1 typeHeader"},[a("v-select",{staticClass:"pa-0",attrs:{value:e.item.type,items:t.attributeTypes,disabled:e.item.deprecated||!e.item.new,dense:""},on:{input:function(a){return t.setAttribute(e.item,"type",a)}}})],1),a("td",{staticClass:"pa-1 td-icon text-xs-center"},[a("v-btn",{attrs:{small:"",fab:"",flat:"",disabled:!t.attributeHasOptions(e.item.type)},on:{click:function(a){return t.doShowAttributeOptions(e.item)}}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-tune")])],1)],1),a("td",{staticClass:"pa-1 td-checkbox text-xs-center"},[a("v-checkbox",{staticClass:"pa-0 ma-o",attrs:{"input-value":!e.item.deprecated,"hide-details":""},on:{click:function(a){return a.stopPropagation(),t.deprecateAttributeToggle(e.item)}}})],1)])]}}])})],1):t._e()],1)],1),a("v-flex",{staticClass:"px-2",attrs:{lg7:""}},[a("v-card",{staticClass:"elevation-5"},[a("v-toolbar",{staticClass:"elevation-0",attrs:{dense:""}},[a("v-toolbar-title",{staticClass:"headline"},[t._v("Sections")]),a("v-spacer"),t.isEditMode?a("v-btn",{attrs:{fab:"",flat:"",small:""},on:{click:function(e){return e.stopPropagation(),t.addSection(e)}}},[a("v-icon",[t._v("mdi-plus-circle")])],1):t._e()],1),t.isEditMode?t._e():a("v-card-text",[a("v-data-table",{attrs:{headers:t.sectionHeaders,items:t.sections,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"body-1 td-header"},[t._v(t._s(1==e.item.header?"|":"||"))]),a("td",{staticClass:"body-1"},[t._v(t._s(e.item.name))]),a("td",{staticClass:"body-1 typeHeader"},[t._v(t._s(t.sectionName(e.item.type)))]),a("td",{staticClass:"body-1 td-size"},[t._v(t._s(t.sectionSize(e.item.size)))]),a("td",{staticClass:"pa-1 td-icon text-xs-center"},[e.item.deprecated?a("v-icon",[t._v("mdi-checkbox-blank-outline")]):t._e(),e.item.deprecated?t._e():a("v-icon",[t._v("mdi-checkbox-marked-outline")])],1)]}}])})],1),t.isEditMode?a("v-card-text",[a("v-data-table",{directives:[{name:"sortable",rawName:"v-sortable:handle",arg:"handle"}],attrs:{headers:t.sectionHeaders,items:t.sections,"hide-actions":""},on:{reorder:t.dragReorderSection},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{staticClass:"sortableRow"},[a("td",{staticClass:"pa-1 td-icon"},[a("v-icon",{staticClass:"handle",attrs:{small:""}},[t._v("mdi-reorder-horizontal")])],1),a("td",{staticClass:"pa-1 td-icon"},[a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.toggleHeader(e.item)}}},[1==e.item.header?a("span",[t._v("I")]):t._e(),2==e.item.header?a("span",[t._v("II")]):t._e()])],1),a("td",{staticClass:"pa-1"},[a("v-text-field",{staticClass:"pa-0 mr-1",attrs:{value:e.item.name,disabled:e.item.deprecated,counter:t.sectionCount(e.item.type)},on:{input:function(a){return t.setSection(e.item,"name",a)}}})],1),a("td",{staticClass:"pa-1 typeHeader"},[a("v-select",{staticClass:"pa-0",attrs:{value:e.item.type,items:t.sectionTypes,disabled:e.item.deprecated||!e.item.new,dense:""},on:{input:function(a){return t.setSection(e.item,"type",a)}}})],1),a("td",{staticClass:"pa-1 td-size"},[a("v-select",{staticClass:"pa-0",attrs:{value:e.item.size,items:t.sectionSizes,disabled:e.item.deprecated,dense:""},on:{input:function(a){return t.setSection(e.item,"size",a)}}})],1),a("td",{staticClass:"pa-1 td-icon text-xs-center"},[a("v-btn",{attrs:{small:"",fab:"",flat:"",disabled:!t.sectionHasOptions(e.item.type)},on:{click:function(a){return t.doShowSectionOptions(e.item)}}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-tune")])],1)],1),a("td",{staticClass:"pa-1 td-checkbox text-xs-center"},[a("v-checkbox",{attrs:{"input-value":!e.item.deprecated,"hide-details":""},on:{click:function(a){return a.stopPropagation(),t.deprecateSectionToggle(e.item)}}})],1)])]}}])})],1):t._e()],1)],1)],1):t._e(),null!=t.currentAttribute?a("v-dialog",{attrs:{persistent:"",width:"450"},model:{value:t.showAttributeOptions,callback:function(e){t.showAttributeOptions=e},expression:"showAttributeOptions"}},[a("v-card",[a("v-card-title",{staticClass:"title"},[t._v(t._s(t.currentAttribute.name||t.attributeName(t.currentAttribute.type))+" Settigns")]),"options"===t.currentAttribute.type?a("v-card-text",{staticClass:"body-1"},[a("div",{staticClass:"body-1"},[t._v("These are the options the user can shoose from:")]),t._l(t.currentAttribute.data.items,function(e,i){return a("v-layout",[a("v-flex",{attrs:{xs10:""}},[a("v-text-field",{attrs:{value:e,disabled:""}})],1),a("v-flex",{staticClass:"text-xs-center",attrs:{xs2:""}},[a("v-btn",{attrs:{fab:"",small:""},on:{click:function(e){return t.currentAttribute.data.items.splice(i,1)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)],1)}),a("v-layout",[a("v-flex",{attrs:{xs10:""}},[a("v-text-field",{model:{value:t.temp.input,callback:function(e){t.$set(t.temp,"input",e)},expression:"temp.input"}})],1),a("v-flex",{staticClass:"text-xs-center",attrs:{xs2:""}},[a("v-btn",{attrs:{fab:"",small:""},on:{click:function(e){t.currentAttribute.data.items.push(t.temp.input),t.temp.input=""}}},[a("v-icon",[t._v("mdi-plus")])],1)],1)],1),a("v-layout",[a("v-flex",{attrs:{xs11:""}},[a("v-checkbox",{attrs:{"input-value":t.currentAttribute.data.multi,label:"Can select multiple items","hide-details":""},on:{click:function(e){e.stopPropagation(),t.currentAttribute.data.multi=!t.currentAttribute.data.multi}}})],1)],1)],2):t._e(),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:t.closeAttributeOptions}},[t._v("Close")])],1)],1)],1):t._e(),null!=t.currentSection?a("v-dialog",{attrs:{persistent:"",width:"450"},model:{value:t.showSectionOptions,callback:function(e){t.showSectionOptions=e},expression:"showSectionOptions"}},[a("v-card",[a("v-card-title",{staticClass:"title"},[t._v(t._s(t.currentSection.name||t.sectionName(t.currentSection.type))+" Settigns")]),"datatable"===t.currentSection.type?a("v-card-text",{staticClass:"body-1"},[a("div",{staticClass:"body-1"},[t._v("These are the data columns:")]),t._l(t.currentSection.data.cols,function(e,i){return a("v-layout",[a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{value:e.title}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs3:""}},[a("v-text-field",{attrs:{value:e.name,disabled:""}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs3:""}},[a("v-text-field",{attrs:{value:e.type,disabled:""}})],1),a("v-flex",{staticClass:"text-xs-center",attrs:{xs2:""}},[a("v-btn",{attrs:{fab:"",small:""},on:{click:function(e){return t.currentSection.data.cols.splice(i,1)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)],1)}),a("v-layout",[a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{label:"Title"},model:{value:t.temp.title,callback:function(e){t.$set(t.temp,"title",e)},expression:"temp.title"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs3:""}},[a("v-text-field",{attrs:{label:"Data Name"},model:{value:t.temp.name,callback:function(e){t.$set(t.temp,"name",e)},expression:"temp.name"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs3:""}},[a("v-select",{attrs:{items:["String","Number","Date"],label:"Type"},model:{value:t.temp.type,callback:function(e){t.$set(t.temp,"type",e)},expression:"temp.type"}})],1),a("v-flex",{staticClass:"text-xs-center",attrs:{xs2:""}},[a("v-btn",{attrs:{fab:"",small:""},on:{click:function(e){t.currentSection.data.cols.push({title:t.temp.title,name:t.temp.name,type:t.temp.type}),t.temp.title="",t.temp.type="",t.temp.name=""}}},[a("v-icon",[t._v("mdi-plus")])],1)],1)],1)],2):t._e(),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:t.closeSectionOptions}},[t._v("Close")])],1)],1)],1):t._e()],1)},s=[],n=(a("7f7f"),a("d225")),r=a("b0b4"),l=a("308d"),o=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("2ef0"),v=function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(l["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.attributeTypes=[{text:"Date",value:"date"},{text:"Duration",value:"duration"},{text:"Image",value:"image"},{text:"Name",value:"name"},{text:"Number",value:"number"},{text:"Options",value:"options",options:!0},{text:"Spacer",value:"spacer"},{text:"Text",value:"string"},{text:"U.S. Armed Forces",value:"usaremedforces"}],t.sectionTypes=[{text:"Data Table",value:"datatable",options:!0},{text:"Text",value:"text"}],t.sectionSizes=[{text:"Full",value:"full"},{text:"Half",value:"half"}],t.showAttributeOptions=!1,t.currentAttribute=null,t.showSectionOptions=!1,t.currentSection=null,t.temp={},t}return Object(c["a"])(e,t),Object(r["a"])(e,[{key:"fetchTemplate",value:function(){this.$store.dispatch("session/loadTemplate",this.$route.params.name)}},{key:"addAttribute",value:function(){var t={id:0};this.attributes.length&&(t=Object(p["maxBy"])(this.attributes,function(t){return t.id})),this.$store.commit("session/setTemplateAttribute",{new:!0,id:t.id+1,type:"string"})}},{key:"addSection",value:function(){var t={id:0};this.sections.length&&(t=Object(p["maxBy"])(this.sections,function(t){return t.id})),this.$store.commit("session/setTemplateSection",{new:!0,header:1,id:t.id+1,type:"text",size:"full"})}},{key:"attributeCount",value:function(t){return"spacer"===t?null:25}},{key:"attributeName",value:function(t){var e=Object(p["find"])(this.attributeTypes,{value:t});return e?e.text:t}},{key:"attributeHasOptions",value:function(t){var e=Object(p["find"])(this.attributeTypes,{value:t});return e?e.options||!1:t}},{key:"closeAttributeOptions",value:function(){this.$store.commit("session/setTemplateAttribute",this.currentAttribute),this.currentAttribute=null,this.showAttributeOptions=!1}},{key:"closeSectionOptions",value:function(){this.$store.commit("session/setTemplateSection",this.currentSection),this.currentSection=null,this.showSectionOptions=!1}},{key:"deprecateAttributeToggle",value:function(t){t.deprecated=!t.deprecated,this.$store.commit("session/setTemplateAttribute",t)}},{key:"deprecateSectionToggle",value:function(t){t.deprecated=!t.deprecated,this.$store.commit("session/setTemplateSection",t)}},{key:"dragReorderAttribute",value:function(t){this.$store.commit("session/moveTemplateAttribute",t)}},{key:"dragReorderSection",value:function(t){this.$store.commit("session/moveTemplateSection",t)}},{key:"sectionCount",value:function(t){return 35}},{key:"sectionHasOptions",value:function(t){var e=Object(p["find"])(this.sectionTypes,{value:t});return!!e&&!!e.options}},{key:"sectionName",value:function(t){var e=Object(p["find"])(this.sectionTypes,{value:t});return e?e.text:t}},{key:"sectionSize",value:function(t){var e=Object(p["find"])(this.sectionSizes,{value:t});return e?e.text:t||"Full"}},{key:"setAttribute",value:function(t,e,a){t[e]=a,this.$store.commit("session/setTemplateAttribute",t)}},{key:"setSection",value:function(t,e,a){t[e]=a,this.$store.commit("session/setTemplateSection",t)}},{key:"doShowAttributeOptions",value:function(t){this.currentAttribute=Object(p["cloneDeep"])(t),"options"!==this.currentAttribute.type||this.currentAttribute.data||this.$set(this.currentAttribute,"data",{mulit:!1,items:[]}),this.temp={},this.showAttributeOptions=!0}},{key:"doShowSectionOptions",value:function(t){this.currentSection=Object(p["cloneDeep"])(t),"datatable"!==this.currentSection.type||this.currentSection.data||this.$set(this.currentSection,"data",{cols:[]}),this.temp={},this.showSectionOptions=!0}},{key:"toggleHeader",value:function(t){1===t.header?t.header=2:t.header=1,this.$store.commit("session/setTemplateSection",t)}},{key:"attributes",get:function(){return this.template.attributes}},{key:"attributeHeaders",get:function(){return this.isEditMode?[{text:"",value:"reorder",align:"center",sortable:!1},{text:"Title",value:"title",align:"left",sortable:!1},{text:"Type",value:"type",align:"left",sortable:!1},{text:"",value:"options",align:"center",sortable:!1},{text:"Active",value:"delete",align:"center",sortable:!1}]:[{text:"Title",value:"title",align:"left",sortable:!1},{text:"Type",value:"type",align:"left",sortable:!1},{text:"Active",value:"delete",align:"center",sortable:!1}]}},{key:"isEditMode",get:function(){return this.$store.getters["session/isEditMode"]}},{key:"sections",get:function(){return this.template.sections}},{key:"sectionHeaders",get:function(){return this.isEditMode?[{text:"",value:"reorder",align:"center",sortable:!1},{text:"Hdr",value:"header",align:"center",sortable:!1},{text:"Title",value:"title",align:"left",sortable:!1},{text:"Type",value:"type",align:"left",sortable:!1},{text:"Size",value:"size",align:"left",sortable:!1},{text:"",value:"options",align:"center",sortable:!1},{text:"Active",value:"delete",align:"center",sortable:!1}]:[{text:"Hdr",value:"header",align:"center",sortable:!1},{text:"Title",value:"title",align:"left",sortable:!1},{text:"Type",value:"type",align:"left",sortable:!1},{text:"Size",value:"size",align:"left",sortable:!1},{text:"Active",value:"delete",align:"center",sortable:!1}]}},{key:"template",get:function(){return this.$store.state.session.template}}]),e}(d["c"]);u["a"]([Object(d["d"])("$route",{immediate:!0,deep:!0})],v.prototype,"fetchTemplate",null),v=u["a"]([d["a"]],v);var m=v,b=m,f=(a("582b"),a("2877")),x=a("6544"),h=a.n(x),y=a("8336"),g=a("b0af"),k=a("99d9"),C=a("12b2"),_=a("ac7c"),S=a("a523"),A=a("8fea"),T=a("169a"),O=a("ce7e"),w=a("0e8f"),$=a("132d"),z=a("a722"),H=a("490a"),V=a("b56d"),j=a("9910"),N=a("2677"),E=a("71d9"),D=a("2a7f"),M=Object(f["a"])(b,i,s,!1,null,null,null);e["default"]=M.exports;h()(M,{VBtn:y["a"],VCard:g["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:C["a"],VCheckbox:_["a"],VContainer:S["a"],VDataTable:A["a"],VDialog:T["a"],VDivider:O["a"],VFlex:w["a"],VIcon:$["a"],VLayout:z["a"],VProgressCircular:H["a"],VSelect:V["a"],VSpacer:j["a"],VTextField:N["a"],VToolbar:E["a"],VToolbarTitle:D["a"]})},"582b":function(t,e,a){"use strict";var i=a("db49"),s=a.n(i);s.a},db49:function(t,e,a){}}]);
//# sourceMappingURL=template.1d1986e5.js.map